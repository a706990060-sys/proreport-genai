# 📦 分享给其他用户使用指南

## 🎯 两种分享方式

### 方式1：本地使用（推荐用于小范围分享）

适合：同事、朋友等少数人使用

### 方式2：在线部署（推荐用于多人使用）

适合：大量用户、远程访问

---

## 📋 方式1：本地使用分享

### 需要分享的文件

创建一个压缩包，包含以下内容：

```
ProReport-GenAI/
├── src/                    # 前端源代码
├── server/                 # 后端源代码
├── components/             # React组件
├── services/                # 服务文件
├── types.ts                # 类型定义
├── constants.ts            # 常量定义
├── vite.config.ts          # Vite配置
├── package.json            # 前端依赖配置
├── tsconfig.json           # TypeScript配置
├── server/
│   ├── src/                # 后端源代码
│   ├── package.json        # 后端依赖配置
│   └── tsconfig.json       # TypeScript配置
├── .env.example            # 环境变量示例（需要创建）
├── 启动工具.bat            # 一键启动脚本
├── README.md               # 使用说明
└── 用户使用说明.md         # 用户指南
```

### 创建分享包步骤

#### 步骤1：创建环境变量示例文件

创建 `server/.env.example` 文件（不包含真实密钥）：

```env
PORT=3001
GEMINI_API_KEY=请替换为你的API密钥
JWT_SECRET=请设置一个随机字符串（建议32字符以上）
FRONTEND_URL=http://localhost:3000
NODE_ENV=development
DATA_PATH=./data
```

#### 步骤2：创建用户使用说明

创建 `用户使用说明.md` 文件，包含：
- 如何安装依赖
- 如何配置环境变量
- 如何启动服务
- 如何访问应用

#### 步骤3：打包分享

1. 排除不需要的文件：
   - `node_modules/`（让用户自己安装）
   - `dist/`（构建产物）
   - `.git/`（版本控制）
   - `server/data/`（用户数据）
   - `.env`（包含敏感信息）

2. 创建压缩包：
   - 使用 `启动工具.bat` 或手动压缩
   - 命名为：`ProReport-GenAI-分享版.zip`

### 用户使用步骤

1. **解压文件**
2. **安装依赖**：
   ```bash
   # 安装前端依赖
   npm install
   
   # 安装后端依赖
   cd server
   npm install
   cd ..
   ```
3. **配置环境变量**：
   - 复制 `server/.env.example` 为 `server/.env`
   - 编辑 `server/.env`，填入：
     - `GEMINI_API_KEY`：你的Gemini API密钥
     - `JWT_SECRET`：随机字符串（建议32字符以上）
4. **启动服务**：
   - 双击 `启动工具.bat`
   - 或运行：`npm run dev`
5. **访问应用**：
   - 打开浏览器访问：`http://localhost:3000`

---

## 🌐 方式2：在线部署分享

### 部署到云服务器

#### 选项A：Vercel + Railway（推荐，免费）

1. **部署前端到Vercel**：
   - 访问 https://vercel.com
   - 用GitHub登录
   - 导入项目
   - 配置构建命令：`npm run build:client`
   - 输出目录：`dist`

2. **部署后端到Railway**：
   - 访问 https://railway.app
   - 用GitHub登录
   - 导入项目
   - 根目录：`server`
   - 配置环境变量

3. **分享URL**：
   - 前端URL：`https://your-app.vercel.app`
   - 用户只需访问这个URL即可使用

#### 选项B：Docker部署（适合有服务器）

1. **使用Docker Compose**：
   - 已创建 `docker-compose.yml`
   - 运行：`docker-compose up -d`

2. **分享服务器地址**：
   - 例如：`http://your-server-ip:3000`

---

## 📝 创建分享包的脚本

### 创建分享包脚本

创建一个 `创建分享包.bat` 脚本：

```batch
@echo off
chcp 65001 >nul
echo 正在创建分享包...

:: 创建临时目录
if exist "ProReport-GenAI-分享版" rmdir /s /q "ProReport-GenAI-分享版"
mkdir "ProReport-GenAI-分享版"

:: 复制文件
xcopy /E /I /Y "src" "ProReport-GenAI-分享版\src"
xcopy /E /I /Y "components" "ProReport-GenAI-分享版\components"
xcopy /E /I /Y "services" "ProReport-GenAI-分享版\services"
xcopy /E /I /Y "server\src" "ProReport-GenAI-分享版\server\src"

:: 复制配置文件
copy "package.json" "ProReport-GenAI-分享版\"
copy "tsconfig.json" "ProReport-GenAI-分享版\"
copy "vite.config.ts" "ProReport-GenAI-分享版\"
copy "types.ts" "ProReport-GenAI-分享版\"
copy "constants.ts" "ProReport-GenAI-分享版\"
copy "启动工具.bat" "ProReport-GenAI-分享版\"
copy "README.md" "ProReport-GenAI-分享版\"

:: 复制服务器配置
copy "server\package.json" "ProReport-GenAI-分享版\server\"
copy "server\tsconfig.json" "ProReport-GenAI-分享版\server\"

:: 创建环境变量示例
echo PORT=3001 > "ProReport-GenAI-分享版\server\.env.example"
echo GEMINI_API_KEY=请替换为你的API密钥 >> "ProReport-GenAI-分享版\server\.env.example"
echo JWT_SECRET=请设置一个随机字符串（建议32字符以上） >> "ProReport-GenAI-分享版\server\.env.example"
echo FRONTEND_URL=http://localhost:3000 >> "ProReport-GenAI-分享版\server\.env.example"
echo NODE_ENV=development >> "ProReport-GenAI-分享版\server\.env.example"
echo DATA_PATH=./data >> "ProReport-GenAI-分享版\server\.env.example"

:: 创建用户使用说明
copy "用户使用说明.md" "ProReport-GenAI-分享版\"

:: 压缩
powershell Compress-Archive -Path "ProReport-GenAI-分享版\*" -DestinationPath "ProReport-GenAI-分享版.zip" -Force

echo 分享包创建完成：ProReport-GenAI-分享版.zip
pause
```

---

## 📋 分享清单

### 必须包含的文件

- ✅ 源代码文件（src/, components/, services/等）
- ✅ 配置文件（package.json, tsconfig.json等）
- ✅ 启动脚本（启动工具.bat）
- ✅ 使用说明文档
- ✅ 环境变量示例文件（.env.example）

### 不需要包含的文件

- ❌ node_modules/（让用户自己安装）
- ❌ dist/（构建产物）
- ❌ .git/（版本控制）
- ❌ server/data/（用户数据）
- ❌ .env（包含敏感信息，用.env.example代替）

---

## 🎯 推荐方案

### 小范围使用（1-10人）
→ **方式1：本地使用分享**
- 打包源代码
- 提供使用说明
- 用户自己安装和配置

### 多人使用（10+人）
→ **方式2：在线部署**
- 部署到Vercel + Railway
- 分享URL
- 用户直接访问使用

---

## 📞 用户支持

建议提供：
1. **使用说明文档**：详细的操作步骤
2. **常见问题解答**：FAQ文档
3. **联系方式**：遇到问题可以联系你

