# 📖 ProReport GenAI 用户使用说明

## 🚀 快速开始

### 第一步：安装依赖

打开命令行，进入项目目录，运行：

```bash
# 安装前端依赖
npm install

# 安装后端依赖
cd server
npm install
cd ..
```

### 第二步：配置环境变量

1. 在 `server` 目录下，复制 `.env.example` 文件为 `.env`
2. 编辑 `.env` 文件，填入以下内容：

```env
PORT=3001
GEMINI_API_KEY=你的Gemini API密钥
JWT_SECRET=随机字符串（建议32字符以上，例如：proreport-secret-key-2024）
FRONTEND_URL=http://localhost:3000
NODE_ENV=development
DATA_PATH=./data
```

**重要说明**：
- `GEMINI_API_KEY`：需要从 Google AI Studio 获取
- `JWT_SECRET`：可以设置为任意随机字符串，建议32字符以上

### 第三步：启动服务

**方法1：使用启动脚本（推荐）**
- 双击 `启动工具.bat` 文件

**方法2：命令行启动**
```bash
npm run dev
```

启动成功后，你会看到：
- 前端地址：http://localhost:3000
- 后端地址：http://localhost:3001

### 第四步：访问应用

1. 打开浏览器
2. 访问：http://localhost:3000
3. 首次使用需要注册账号
4. 注册后自动登录，开始使用

---

## 📝 使用流程

### 1. 注册账号

1. 打开应用，点击"LOGIN / REGISTER"
2. 点击"立即注册"
3. 填写信息：
   - 用户名：至少3个字符
   - 密码：至少6个字符
   - 确认密码：与密码一致
   - 邮箱：可选
4. 点击"Register"完成注册

### 2. 创建项目

1. 登录后，点击"新建项目"
2. 填写项目名称和描述
3. 选择大纲类型：
   - **使用标准大纲**：使用2023国标通用模板
   - **自定义大纲**：手动创建章节结构
4. 开始编辑项目

### 3. 生成报告内容

1. 选择要编辑的章节
2. 填写章节要求
3. 点击"生成内容"
4. 等待AI生成内容
5. 可以继续编辑和优化

---

## ⚙️ 系统要求

- **Node.js**：v16 或更高版本
- **npm**：v7 或更高版本
- **操作系统**：Windows / macOS / Linux
- **浏览器**：Chrome、Edge、Firefox 等现代浏览器

---

## 🐛 常见问题

### Q1: 启动失败，提示端口被占用

**解决方法**：
- 关闭占用端口的程序
- 或修改 `server/.env` 中的 `PORT` 值

### Q2: 提示"无法连接到服务器"

**解决方法**：
1. 检查后端服务是否启动
2. 访问 http://localhost:3001/api/health 验证后端
3. 检查防火墙设置

### Q3: 提示"无效的认证令牌"

**解决方法**：
1. 清除浏览器LocalStorage中的 `auth_token`
2. 重新登录
3. 检查 `server/.env` 中的 `JWT_SECRET` 配置

### Q4: 生成内容失败

**解决方法**：
1. 检查 `GEMINI_API_KEY` 是否正确
2. 检查网络连接
3. 查看浏览器控制台错误信息

---

## 📞 需要帮助？

如果遇到问题：
1. 查看浏览器控制台（F12）的错误信息
2. 查看后端终端的日志
3. 检查环境变量配置
4. 联系技术支持

---

## 💡 提示

- 数据存储在 `server/data/` 目录
- 建议定期备份数据
- 每个用户的数据独立存储
- 支持多设备登录使用
